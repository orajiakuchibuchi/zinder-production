"use strict";(self.webpackChunksparklingv2=self.webpackChunksparklingv2||[]).push([[590],{5590:(K,T,r)=>{r.r(T),r.d(T,{FileManagerModule:()=>H});var m=r(8583),g=r(4655),p=r(3679),e=r(7716),x=r(8345),q=r(2796),c=r(1933),C=r(6215),u=r(8508),_=r(4758);class b extends u.a{constructor(){super(),this.level=0,this.expandable=!1}}let N=(()=>{class o{constructor(t){this._us=t,this.dataChange=new C.X([]),this.initialize()}get data(){return this.dataChange.value}initialize(){let t=new u.a;const n=this._us.getuser();t.name=n.firstName,t.status="saved",t.type="folder";let i=new u.a;i.name="__Welcome",i.status="saved",i.type="file",t.children.unshift(i),this.dataChange.next([t])}buildFileTree(t,n){return[]}insertItem(t,n){t.children&&(t.children.push(n),this.dataChange.next(this.data))}updateItem(t,n){t.name=n,this.dataChange.next(this.data)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(_.K))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var v=r(7746),y=r(1095),S=r(7539),A=r(8295),U=r(9983),k=r(6627);function w(o,a){1&o&&(e.TgZ(0,"span",13),e._uU(1," > "),e.qZA())}function M(o,a){if(1&o&&(e.TgZ(0,"strong"),e.TgZ(1,"span",13),e._uU(2),e.qZA(),e.YNc(3,w,2,0,"span",14),e.qZA()),2&o){const t=a.$implicit,n=a.index,i=e.oxw();e.xp6(2),e.Oqu(t),e.xp6(1),e.Q6J("ngIf",n!=i.nav.length-1)}}function F(o,a){if(1&o&&(e.TgZ(0,"span",4),e._UZ(1,"i",15),e._uU(2),e.qZA()),2&o){const t=e.oxw();e.xp6(2),e.hij(" ",t.totalSelected," Selected ")}}function L(o,a){1&o&&(e.TgZ(0,"span",16),e._UZ(1,"i",17),e._uU(2," Delete "),e.qZA())}function I(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"span",18),e.NdJ("click",function(){return e.CHM(t),e.oxw().cancelSelected()}),e._UZ(1,"i",19),e._uU(2," Cancel New "),e.qZA()}}function D(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"mat-tree-node",20),e._UZ(1,"button",21),e.TgZ(2,"mat-checkbox",22),e.NdJ("change",function(){const s=e.CHM(t).$implicit;return e.oxw().todoLeafItemSelectionToggle(s)}),e._uU(3),e.qZA(),e.qZA()}if(2&o){const t=a.$implicit,n=e.oxw();e.xp6(2),e.Q6J("checked",n.checklistSelection.isSelected(t)),e.xp6(1),e.Oqu(t.name)}}function J(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"mat-tree-node",23),e._UZ(1,"button",21),e.TgZ(2,"mat-form-field"),e.TgZ(3,"mat-label"),e._uU(4,"New ..."),e.qZA(),e._UZ(5,"input",24,25),e.qZA(),e.TgZ(7,"button",26),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.MAs(6);return e.oxw().saveNode(s,l.value)}),e._uU(8,"Save"),e.qZA(),e.qZA()}}function P(o,a){if(1&o&&(e.TgZ(0,"strong",35),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.name)}}function O(o,a){if(1&o&&(e.TgZ(0,"span",35),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.name)}}const f=function(o){return{"d-none":o}};function Y(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"mat-tree-node",23),e.TgZ(1,"button",27),e.TgZ(2,"mat-icon",28),e._uU(3),e.qZA(),e.qZA(),e.TgZ(4,"mat-checkbox",29),e.NdJ("change",function(){const s=e.CHM(t).$implicit;return e.oxw().todoItemSelectionToggle(s)}),e.YNc(5,P,2,1,"strong",30),e.YNc(6,O,2,1,"span",30),e.qZA(),e.TgZ(7,"button",31),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().addNewItem(s,"folder")}),e.TgZ(8,"mat-icon"),e._uU(9,"create_new_folder"),e.qZA(),e.qZA(),e.TgZ(10,"button",32),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().addNewItem(s,"file")}),e.TgZ(11,"mat-icon"),e._uU(12,"add"),e.qZA(),e.qZA(),e.TgZ(13,"button",33),e.TgZ(14,"mat-icon"),e._uU(15,"link"),e.qZA(),e.qZA(),e.TgZ(16,"button",34),e.TgZ(17,"mat-icon"),e._uU(18,"delete"),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=a.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(9,f,"file"==t.type)),e.uIk("aria-label","Toggle "+t.name),e.xp6(2),e.hij(" ",n.treeControl.isExpanded(t)?"expand_more":"chevron_right"," "),e.xp6(1),e.Q6J("checked",n.descendantsAllSelected(t))("indeterminate",n.descendantsPartiallySelected(t)),e.xp6(1),e.Q6J("ngIf","folder"==t.type),e.xp6(1),e.Q6J("ngIf","file"==t.type),e.xp6(1),e.Q6J("ngClass",e.VKq(11,f,"file"==t.type)),e.xp6(3),e.Q6J("ngClass",e.VKq(13,f,"file"==t.type))}}let Q=(()=>{class o{constructor(t,n){this._database=t,this._us=n,this.flatNodeMap=new Map,this.nestedNodeMap=new Map,this.selectedParent=null,this.newItemName="",this.checklistSelection=new x.Ov(!0),this.newDoc=null,this.getLevel=i=>i.level,this.isExpandable=i=>i.expandable,this.getChildren=i=>i.children,this.hasChild=(i,s)=>s.children,this.isFolder=(i,s)=>"folder"==s.type,this.isFile=(i,s)=>"file"==s.type,this.hasNoContent=(i,s)=>""===s.name,this.transformer=(i,s)=>{var l;const h=this.nestedNodeMap.get(i),d=h&&h.name===i.name?h:new b;return d.type=i.type,d.name=i.name,d.level=s,d.expandable=!!(null===(l=i.children)||void 0===l?void 0:l.length),this.flatNodeMap.set(d,i),this.nestedNodeMap.set(i,d),d},this.users$=this._us.list$,this.folders=[{id:1,name:"Photos",updated:new Date("1/1/16"),status:"saved",type:"folder"}],this.notes=[{id:1,name:"into.jpg",updated:new Date("1/1/16"),status:"saved",type:"file"}],this.nav=["Manage Files & Folders"],this.selectedDocument={folder:[],file:[]},this.treeFlattener=new c.JZ(this.transformer,this.getLevel,this.isExpandable,this.getChildren),this.treeControl=new q.C2(this.getLevel,this.isExpandable),this.dataSource=new c.kc(this.treeControl,this.treeFlattener),t.dataChange.subscribe(i=>{this.dataSource.data=i})}descendantsAllSelected(t){const n=this.treeControl.getDescendants(t);return n.length>0&&n.every(s=>this.checklistSelection.isSelected(s))}descendantsPartiallySelected(t){return this.treeControl.getDescendants(t).some(s=>this.checklistSelection.isSelected(s))&&!this.descendantsAllSelected(t)}todoItemSelectionToggle(t){this.checklistSelection.toggle(t);const n=this.treeControl.getDescendants(t);this.checklistSelection.isSelected(t)?this.checklistSelection.select(...n):this.checklistSelection.deselect(...n),n.forEach(i=>this.checklistSelection.isSelected(i)),this.checkAllParentsSelection(t)}todoLeafItemSelectionToggle(t){this.checklistSelection.toggle(t),this.checkAllParentsSelection(t)}checkAllParentsSelection(t){let n=this.getParentNode(t);for(;n;)this.checkRootNodeSelection(n),n=this.getParentNode(n)}checkRootNodeSelection(t){const n=this.checklistSelection.isSelected(t),i=this.treeControl.getDescendants(t),s=i.length>0&&i.every(l=>this.checklistSelection.isSelected(l));n&&!s?this.checklistSelection.deselect(t):!n&&s&&this.checklistSelection.select(t)}getParentNode(t){const n=this.getLevel(t);if(n<1)return null;for(let s=this.treeControl.dataNodes.indexOf(t)-1;s>=0;s--){const l=this.treeControl.dataNodes[s];if(this.getLevel(l)<n)return l}return null}addNewItem(t,n){const i=this.flatNodeMap.get(t);let s=new u.a;s.name="",s.status="unsaved",s.type=n,this._database.insertItem(i,s),this.newDoc=s,this.treeControl.expand(t)}saveNode(t,n){const i=this.flatNodeMap.get(t);this.newDoc.name=n,this._database.updateItem(i,n)}ngOnInit(){}selected(t,n){"foldersTarget"==t?this.selectedDocument.folder=n.map(i=>i._value):"fileTarget"==t&&(this.selectedDocument.file=n.map(i=>i._value))}get totalSelected(){return this.checklistSelection.selected.length}get isCreating(){return this.folders.find(t=>"unsaved"==t.status)||this.notes.find(t=>"unsaved"==t.status)}createFolder(){this.folders.find(n=>"unsaved"==n.status),this.folders.unshift({id:null,name:"",updated:new Date(Date.now()),status:"unsaved",type:"folder"})}createFile(){this.notes.find(n=>"unsaved"==n.status),this.notes.unshift({id:null,name:"",updated:new Date(Date.now()),status:"unsaved",type:"file"})}cancelSelected(){let t=this.notes.findIndex(n=>"unsaved"==n.status);t>-1&&this.notes.splice(t,1),t=this.folders.findIndex(n=>"unsaved"==n.status),t>-1&&this.folders.splice(t,1)}saveNew(){}visit(t,n){t.preventDefault()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(N),e.Y36(_.K))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-file-manager-list"]],decls:16,vars:10,consts:[[1,"row"],[1,"col-md-12"],["mat-subheader","",1,"d-block"],[1,"col-md-6"],[1,"pr-2","point"],[4,"ngFor","ngForOf"],[1,"col-md-6","text-right"],["class","pr-2 point",4,"ngIf"],["class","pr-2 point text-danger",4,"ngIf"],["class","pr-2 point text-primary",3,"click",4,"ngIf"],[3,"dataSource","treeControl"],["matTreeNodeToggle","","matTreeNodePadding","",4,"matTreeNodeDef"],["matTreeNodePadding","",4,"matTreeNodeDef","matTreeNodeDefWhen"],[1,"text-primary"],["class","text-primary",4,"ngIf"],[1,"icon-copy","bi","bi-folder-plus"],[1,"pr-2","point","text-danger"],[1,"icon-copy","bi","bi-trash-fill"],[1,"pr-2","point","text-primary",3,"click"],[1,"icon-copy","bi","bi-x-square-fill"],["matTreeNodeToggle","","matTreeNodePadding",""],["mat-icon-button","","disabled",""],[1,"checklist-leaf-node",3,"checked","change"],["matTreeNodePadding",""],["matInput","","placeholder","Name"],["itemValue",""],["mat-button","",3,"click"],["mat-icon-button","","matTreeNodeToggle","",3,"ngClass"],[1,"mat-icon-rtl-mirror"],[1,"pr-2",3,"checked","indeterminate","change"],["class","pt-2",4,"ngIf"],["title","New Folder","mat-icon-button","",1,"pr-2","btn-sm",3,"ngClass","click"],["title","New File","mat-icon-button","",1,"pr-2","btn-sm",3,"ngClass","click"],["title","Copy Path","mat-icon-button","",1,"pr-2","btn-sm"],["title","Move to trash","mat-icon-button","",1,"text-danger","btn-sm"],[1,"pt-2"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"mat-list"),e.TgZ(3,"div",2),e.TgZ(4,"div",0),e.TgZ(5,"div",3),e.TgZ(6,"span",4),e.YNc(7,M,4,2,"strong",5),e.qZA(),e.qZA(),e.TgZ(8,"div",6),e.YNc(9,F,3,1,"span",7),e.YNc(10,L,3,0,"span",8),e.YNc(11,I,3,0,"span",9),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"mat-tree",10),e.YNc(13,D,4,2,"mat-tree-node",11),e.YNc(14,J,9,0,"mat-tree-node",12),e.YNc(15,Y,19,15,"mat-tree-node",12),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(7),e.Q6J("ngForOf",n.nav),e.xp6(2),e.Q6J("ngIf",n.totalSelected>0),e.xp6(1),e.Q6J("ngIf",n.totalSelected>0),e.xp6(1),e.Q6J("ngIf",n.isCreating),e.xp6(1),e.Udp("background","#021645"),e.Q6J("dataSource",n.dataSource)("treeControl",n.treeControl),e.xp6(2),e.Q6J("matTreeNodeDefWhen",n.hasNoContent),e.xp6(1),e.Q6J("matTreeNodeDefWhen",n.hasChild))},directives:[v.i$,v.gs,m.sg,m.O5,c.gi,c.fQ,c.uo,c.eu,c.ah,y.lW,S.oG,A.KE,A.hX,U.Nt,m.mk,k.Hw],styles:[".mat-mdc-list-item-icon[_ngcontent-%COMP%]{color:#0000008a}.pr-2[_ngcontent-%COMP%]{margin-right:4px!important}.point[_ngcontent-%COMP%]{cursor:pointer}.mat-checkbox-layout[_ngcontent-%COMP%]   .mat-checkbox-label[_ngcontent-%COMP%]{padding-top:2px!important}.mat-checkbox[_ngcontent-%COMP%]{margin-right:10px!important;padding-top:10px}.example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}"]}),o})(),j=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-file-manager-gallery"]],decls:86,vars:0,consts:[[1,"gallery-wrap"],[1,"row"],[1,"col-md-3","pt-20"],[1,"col-md-6","text-left","pt-20"],[1,"form-group","mb-0"],["type","text","name","searchKey","placeholder","Search For Document by name","required","",1,"form-control"],[1,"col-md-3","text-right","pt-20"],["id","sort_gallary_id","name","sort",1,"custom-select","form-control","form-control-sm"],["value","date"],["value","name"],["value","size"],[1,"col-12","pb-20"],[1,"col-lg-4","col-md-6","col-sm-12"],[1,"da-card","box-shadow"],[1,"da-card-photo"],["src","assets/vendors/images/product-img1.jpg","alt",""],[1,"da-overlay"],[1,"da-social"],[1,"mb-10","color-white","pd-20"],[1,"clearfix"],["href","assets/vendors/images/product-img1.jpg","data-fancybox","images"],[1,"fa","fa-picture-o"],["href","#"],[1,"fa","fa-link"],[1,"pl-2"],["src","assets/vendors/images/product-img2.jpg","alt",""],["href","assets/vendors/images/product-img2.jpg","data-fancybox","images"],["src","assets/vendors/images/product-img3.jpg","alt",""],["href","assets/vendors/images/product-img3.jpg","data-fancybox","images"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"ul",1),e.TgZ(2,"div",2),e.TgZ(3,"h2"),e.TgZ(4,"strong"),e._uU(5,"Gallery"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div",3),e.TgZ(7,"div",4),e._UZ(8,"input",5),e.qZA(),e.qZA(),e.TgZ(9,"div",6),e.TgZ(10,"div",4),e.TgZ(11,"select",7),e.TgZ(12,"option",8),e._uU(13,"Date (Recently Added)"),e.qZA(),e.TgZ(14,"option",9),e._uU(15,"Name"),e.qZA(),e.TgZ(16,"option",10),e._uU(17,"Size"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"div",11),e._UZ(19,"hr"),e.qZA(),e.TgZ(20,"li",12),e.TgZ(21,"div",13),e.TgZ(22,"div",14),e._UZ(23,"img",15),e.TgZ(24,"div",16),e.TgZ(25,"div",17),e.TgZ(26,"h5",18),e._uU(27," Lorem ipsum dolor sit amet, consectetur adipisicing. "),e.qZA(),e.TgZ(28,"ul",19),e.TgZ(29,"li"),e.TgZ(30,"a",20),e._UZ(31,"i",21),e.qZA(),e.qZA(),e.TgZ(32,"li"),e.TgZ(33,"a",22),e._UZ(34,"i",23),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(35,"p",24),e.TgZ(36,"small"),e._uU(37,"Lorem ipsum dolor sit amet"),e.qZA(),e._UZ(38,"br"),e.TgZ(39,"small"),e.TgZ(40,"strong"),e._uU(41,"Created At:"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(42,"li",12),e.TgZ(43,"div",13),e.TgZ(44,"div",14),e._UZ(45,"img",25),e.TgZ(46,"div",16),e.TgZ(47,"div",17),e.TgZ(48,"h5",18),e._uU(49," Lorem ipsum dolor sit amet, consectetur adipisicing. "),e.qZA(),e.TgZ(50,"ul",19),e.TgZ(51,"li"),e.TgZ(52,"a",26),e._UZ(53,"i",21),e.qZA(),e.qZA(),e.TgZ(54,"li"),e.TgZ(55,"a",22),e._UZ(56,"i",23),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(57,"p",24),e.TgZ(58,"small"),e._uU(59,"Lorem ipsum dolor sit amet"),e.qZA(),e._UZ(60,"br"),e.TgZ(61,"small"),e.TgZ(62,"strong"),e._uU(63,"Created At:"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(64,"li",12),e.TgZ(65,"div",13),e.TgZ(66,"div",14),e._UZ(67,"img",27),e.TgZ(68,"div",16),e.TgZ(69,"div",17),e.TgZ(70,"h5",18),e._uU(71," Lorem ipsum dolor sit amet, consectetur adipisicing. "),e.qZA(),e.TgZ(72,"ul",19),e.TgZ(73,"li"),e.TgZ(74,"a",28),e._UZ(75,"i",21),e.qZA(),e.qZA(),e.TgZ(76,"li"),e.TgZ(77,"a",22),e._UZ(78,"i",23),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(79,"p",24),e.TgZ(80,"small"),e._uU(81,"Lorem ipsum dolor sit amet"),e.qZA(),e._UZ(82,"br"),e.TgZ(83,"small"),e.TgZ(84,"strong"),e._uU(85,"Created At:"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA())},directives:[p.YN,p.Kr],styles:[""]}),o})();const $=function(){return["/admin/file-manager/home"]};let Z=(()=>{class o{constructor(t,n,i,s){this.location=t,this._formBuilder=n,this.router=i,this.route=s,this.firstFormGroup=this._formBuilder.group({firstCtrl:["",p.kI.required]}),this.secondFormGroup=this._formBuilder.group({secondCtrl:["",p.kI.required]}),this.tab="View",this.url="",this.loadForm=!1}ngOnInit(){this.route.data.subscribe(t=>{this.tab=t.tab,this.url=this.router.url})}goto(t,n){this.tab=n,this.location.replaceState(`/admin/file-manager/${t}`)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(m.Ye),e.Y36(p.qu),e.Y36(g.F0),e.Y36(g.gz))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-index"]],decls:21,vars:9,consts:[[1,"page-header"],[1,"row"],[1,"col-md-6","col-sm-12"],[1,"title"],["aria-label","breadcrumb","role","navigation"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","javascript:void()","routerLinkActive","router-link-active",3,"routerLink"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-6"],[1,"pd-20","pt-10"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"h4"),e._uU(5,"File Manager"),e.qZA(),e.qZA(),e.TgZ(6,"nav",4),e.TgZ(7,"ol",5),e.TgZ(8,"li",6),e.TgZ(9,"a",7),e._uU(10,"Files & Folders"),e.qZA(),e.qZA(),e.TgZ(11,"li",8),e._uU(12),e.ALo(13,"titlecase"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"div",1),e.TgZ(15,"div",9),e.TgZ(16,"div",10),e._UZ(17,"app-file-manager-list"),e.qZA(),e.qZA(),e.TgZ(18,"div",9),e.TgZ(19,"div",10),e._UZ(20,"app-file-manager-gallery"),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(9),e.Q6J("routerLink",e.DdM(8,$)),e.xp6(3),e.hij(" ",e.lcZ(13,6,n.tab)," "),e.xp6(4),e.Udp("background","rgb(211 226 239)"),e.xp6(3),e.Udp("background","rgb(211 226 239)"))},directives:[g.yS,g.Od,Q,j],pipes:[m.rS],styles:[".mat-mdc-form-field[_ngcontent-%COMP%]{margin-top:16px}"]}),o})();const E=[{path:"",component:Z},{path:"home",component:Z,data:{tab:"Home"}},{path:"create",component:Z,data:{tab:"Create"}},{path:"recent",component:Z,data:{tab:"Recent"}}];let z=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[g.Bz.forChild(E)],g.Bz]}),o})();var G=r(3041),B=r(2485);let H=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[m.ez,G.m,B.UserRoleModule,z]]}),o})()}}]);